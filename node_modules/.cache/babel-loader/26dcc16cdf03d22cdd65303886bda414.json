{"ast":null,"code":"var _jsxFileName = \"/Users/godfrey/Documents/MYPROJECTS/JAVASCRIPT/FULLSTACK/pizza-app-react-client/src/components/cart/Cart.jsx\";\nimport React, { Component } from 'react';\nimport CartItem from './CartItem';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\n\nclass Cart extends Component {\n  constructor(props) {\n    super(props);\n\n    this.sortCartItems = cartItems => {\n      return cartItems.sort((a, b) => a.id > b.id ? 1 : -1);\n    };\n\n    this.state = {\n      cartItems: this.props.cart\n    };\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    console.log(\"Component updated\");\n\n    if (prevProps.cart.length < this.props.cart.length) {\n      this.setState({\n        cartItems: this.props.cart\n      });\n    }\n  }\n\n  render() {\n    let total = 0;\n    console.log(\"Test ::\" + this.props.cart);\n    this.sortCartItems(this.state.cartItems).map(item => total += item.product.price * item.quantity);\n    const totalProice = /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 29\n      }\n    }, \"Total \", /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 62\n      }\n    }, \"$\", total.toFixed(2)));\n    const checkout = /*#__PURE__*/React.createElement(Link, {\n      to: \"/checkout\",\n      className: \"btn btn-sm btn-info float-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 26\n      }\n    }, \" Check out\");\n    const cart = this.props.cart.length > 0 ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"panel-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }\n    }, this.sortCartItems(this.state.cartItems).map(item => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: item.product.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(CartItem, {\n        item: item,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 37\n        }\n      }), /*#__PURE__*/React.createElement(\"hr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 37\n        }\n      }));\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"panel-footer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 25\n      }\n    }, totalProice), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 25\n      }\n    }, checkout)))) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"panel-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"alert alert-warning\",\n      role: \"alert\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 21\n      }\n    }, \"Your cart is empty. Click \", /*#__PURE__*/React.createElement(Link, {\n      to: \"/products\",\n      className: \"alert-link\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 51\n      }\n    }, \"products\"), \" to add items to cart\"));\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12 col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"panel panel-info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"panel-heading\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"panel-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-xs-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 45\n      }\n    }, \" My Shopping Cart\"), /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 45\n      }\n    }), this.props.cart.length > 0 ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 54\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 57\n      }\n    }, totalProice), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 57\n      }\n    }, checkout)) : null, /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 45\n      }\n    }))))), cart))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    cart: state.cart.cart\n  };\n};\n\nexport default connect(mapStateToProps)(Cart);","map":{"version":3,"sources":["/Users/godfrey/Documents/MYPROJECTS/JAVASCRIPT/FULLSTACK/pizza-app-react-client/src/components/cart/Cart.jsx"],"names":["React","Component","CartItem","connect","Link","Cart","constructor","props","sortCartItems","cartItems","sort","a","b","id","state","cart","componentDidUpdate","prevProps","prevState","console","log","length","setState","render","total","map","item","product","price","quantity","totalProice","toFixed","checkout","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport CartItem from './CartItem'\nimport { connect } from 'react-redux'\nimport { Link } from 'react-router-dom';\n\n\nclass Cart extends Component {\n    constructor(props) {\n        super(props)\n        this.state = { \n            cartItems: this.props.cart,\n            \n        }\n        \n    }\n\n    componentDidUpdate(prevProps,prevState){\n        console.log(\"Component updated\")\n        if(prevProps.cart.length < this.props.cart.length){\n\n            this.setState({cartItems :this.props.cart})\n        }\n    }\n\n    sortCartItems = (cartItems) => {\n        return cartItems.sort((a,b)=>\n            a.id > b.id ? 1: -1)\n    }    \n\n\n    render() {\n        let total = 0;\n        console.log(\"Test ::\" +this.props.cart)\n        this.sortCartItems(this.state.cartItems).map(item => total += item.product.price * item.quantity)\n        const totalProice = <h4 className=\"text-right\">Total <strong>${total.toFixed(2)}</strong></h4>\n        const checkout = <Link to= \"/checkout\" className = \"btn btn-sm btn-info float-right\" > Check out</Link>\n        const cart = this.props.cart.length > 0 ? (\n            <div>\n                <div className=\"panel-body\">\n                    {\n                        this.sortCartItems(this.state.cartItems).map(item => {                          \n\n                            return (\n                                <div key={item.product.id}>\n                                    <CartItem item={item} />\n                                    <hr />\n                                </div>\n                            )\n                        })\n                    }\n\n                </div>\n                <div className=\"panel-footer\">\n                    <div className=\"row\">\n                        <div className=\"col-md-auto\">\n                            {totalProice} \n                        </div>\n                        <div className=\"col-md-auto\">\n                            {checkout}\n                            \n                        </div>\n                    </div>\n\n                </div>\n            </div>\n\n        ) : (\n                <div className=\"panel-body\">\n                    <div className=\"alert alert-warning\" role=\"alert\">\n                        Your cart is empty. Click <Link to=\"/products\" className=\"alert-link\">products</Link> to add items to cart\n                </div>\n                </div>\n            )\n\n        \n\n\n        return (\n            <div className=\"container\">\n                <div className=\"row\">\n                    <div className=\"col-md-12 col-xs-12\">\n                        <div className=\"panel panel-info\">\n                            <div className=\"panel-heading\">\n                                <div className=\"panel-title\">\n                                    <div className=\"row\">\n                                        <div className=\"col-xs-6\">\n                                            <h5> My Shopping Cart</h5>\n                                            <hr />\n                                            {\n                                                this.props.cart.length > 0 ?\n                                                    (<div className=\"row\">\n                                                        <div className=\"col-md-auto\">\n                                                            {totalProice}\n                                                        </div>\n                                                        <div className=\"col-md-auto\">\n                                                            {checkout}\n                                                            \n                                                        </div>\n                                                    </div>\n                                                    ) : null\n                                            }\n                                            <hr />\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                            {cart}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        cart: state.cart.cart\n    }\n}\n\nexport default connect(mapStateToProps)(Cart)\n"]},"metadata":{},"sourceType":"module"}